<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Renombrador de Im√°genes ZIP</title>
<style>
body{
  background:#111;color:#fff;font-family:sans-serif;
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  height:100vh;text-align:center
}
input[type=file]{
  background:#222;border:2px dashed #555;padding:20px;border-radius:10px;
  cursor:pointer;color:#aaa;width:80%;max-width:400px
}
button{
  margin-top:20px;padding:10px 25px;font-size:16px;border:none;
  border-radius:10px;background:#0a84ff;color:#fff;cursor:pointer;
  transition:.2s
}
button:hover{background:#006edc}
#status{margin-top:20px;color:#0f0}
</style>
</head>
<body>
  <h2>Renombrar im√°genes dentro de ZIP</h2>
  <input type="file" id="zipInput" accept=".zip">
  <button id="processBtn">Procesar y Descargar</button>
  <div id="status"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
<script>
const input = document.getElementById('zipInput');
const btn = document.getElementById('processBtn');
const status = document.getElementById('status');

btn.onclick = async ()=>{
  const file = input.files[0];
  if(!file){status.textContent='‚ö†Ô∏è Selecciona un archivo ZIP primero';return;}

  status.textContent='üì¶ Cargando ZIP...';
  const zip = await JSZip.loadAsync(file);
  const newZip = new JSZip();
  let index=0;
  
  const entries = Object.keys(zip.files).filter(f=>!zip.files[f].dir);
  if(entries.length===0){status.textContent='‚ùå ZIP vac√≠o';return;}
  
  for(const name of entries){
    const ext=name.split('.').pop().toLowerCase();
    if(['png','jpg','jpeg','webp','bmp','gif'].includes(ext)){
      const data=await zip.files[name].async('blob');
      const newName=`IMG_${index}_frame.${ext}`;
      newZip.file(newName,data);
      index++;
    }
  }
  status.textContent=`üîÅ Renombradas ${index} im√°genes...`;
  
  const blob=await newZip.generateAsync({type:'blob'});
  const url=URL.createObjectURL(blob);
  const a=document.createElement('a');
  a.href=url;
  a.download='imagenes_renombradas.zip';
  a.click();
  URL.revokeObjectURL(url);
  status.textContent='‚úÖ ZIP descargado con √©xito';
};
</script>
</body>
</html>
